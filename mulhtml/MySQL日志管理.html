<html>
<head>
  <title>MySQL日志管理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1287"/>
<h1>MySQL日志管理</h1>

<div>
<span><div><div><font style="font-size: 18pt;"><span style="color: rgb(26, 144, 185); font-size: 18pt; font-weight: bold;">个人总结</span></font></div><div><span style="font-size: 12pt;">1.错误日志 </span><span style="box-sizing: border-box; background-color: rgb(249, 242, 244); border-radius: 4px; font-size: 12pt; color: rgb(199, 37, 78);">log_error</span></div><div><span style="font-size: 12pt;">2.所有操作的日志(读和写都有) </span><span style="box-sizing: border-box; background: none; border-radius: 0px; overflow-wrap: normal; font-size: 12pt;">general_log</span></div><div><span style="font-size: 12pt;">3.慢查询日志 </span><span style="box-sizing: border-box; background: none; border-radius: 0px; overflow-wrap: normal; font-size: 12pt;">slow_query_log_file</span></div><div><span style="box-sizing: border-box; background: none; border-radius: 0px; overflow-wrap: normal;"><span style="background-color: initial; font-size: 12pt;">4.用于数据备份的二进制日志 </span><span style="box-sizing: border-box; background: none; border-radius: 0px; overflow-wrap: normal; font-size: 12pt;">bin<span style="box-sizing: border-box; background: none; border-radius: 0px; overflow-wrap: normal; font-size: 12pt;">log</span></span></span></div><div><span style="font-size: 12pt;">5.事务日志（支持事务相关）</span></div><div><span style="font-size: 12pt;">6.中继日志（主从备份中从库从主库拿到的日志）</span></div><div><span style="font-weight: bold; color: rgb(26, 144, 185); font-size: 18pt;">原文</span></div><div><span style="font-weight: bold;">MySQL日志管理：</span><a href="https://segmentfault.com/a/1190000003072237" style="font-weight: bold;">https://segmentfault.com/a/1190000003072237</a></div><div><br/></div><blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 0px 0px 1.5em; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; margin: 0px;"><span style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">参照：系统是CentOS6.4 ,MySQL版本为5.5.32</span></div></blockquote><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">MySQL 服务器上一共有六种日志：错误日志，查询日志，慢查询日志，二进制日志，事务日志，中继日志。</span></div><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">一 错误日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">错误日志不仅仅记录错误信息，它记录的事件有：</span></div><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">- 服务器启动和关闭过程中的信息</span></div><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">- 服务器运行过程中的错误信息</span></div><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">- 事件调度器运行一个事件时产生的信息</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">- (如果被配置为从服务器)启动从服务器进程时产生的信息</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看错误日志文件的路径</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在mysql数据库中，错误日志功能是默认开启的。</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; SHOW VARIABLES LIKE 'log_error%';</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------+-----------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| Variable_name | Value |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------+-----------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_error | /opt/lampstack-5.4.22-0/mysql/data/mysqld.log |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------+-----------------------------------------------+</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">配置错误日志</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">编辑 my.cnf（一般在mysql目录下），修改 log-error 参数,如果没有就新增：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">- </span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;-en-paragraph:true;">错误日志文件配置</span></div></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># Error Logging.</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(0, 134, 179); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">-</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">error</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;filename.log&quot;</span></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">相关配置变量说明</span><br/><span style="box-sizing: border-box; font-size: 0.93em; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">log_error={1 | 0 | /PATH/TO/ERROR_LOG_FILENAME}</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">定义错误日志文件。作用范围为全局或会话级别，可用于配置文件，属非动态变量。</span><br/><span style="box-sizing: border-box; font-size: 0.93em; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">log_warnings = {1|0}</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">决定是否将警告信息记录入错误日志。</span></li></ul><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">二 查询日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">其中查询日志记录查询操作，默认情况下查询日志是关闭的。</span><span style="box-sizing: border-box; font-size: 0.93em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">开启查询日志会增加很多磁盘 I/O， 所以如非出于调试目的，不建议开启查询日志</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">。<span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">（不只是查询，所有操作的日志都有）</span></span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看查询日志是否启用及查询日志的路径</span></h2><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1.5em !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; SHOW VARIABLES LIKE 'general_log%';</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+--------------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| Variable_name | Value |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+--------------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| general_log | OFF |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| general_log_file | /opt/lampstack-5.4.22-0/mysql/data/localhost.log |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+--------------------------------------------------+</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">配置查询日志</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">编辑 my.cnf，修改 general-log 参数为 1，同时设定 log-output 参数（日志输出类型）和 general_log_file 参数（查询日志路径）：</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># General logging.：</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log-output</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=FILE</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">general-log</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">general_log_file</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;filename.log&quot;</span></div></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">保存 my.cnf 更改，重启 MySQL 服务。</span></div><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">三 慢查询日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">慢查询是指执行时长（包括等待CPU/IO的时间）超过 long_query_time 这个变量定义的时长的查询。</span><span style="box-sizing: border-box; font-size: 0.93em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">慢查询日志开销比较小，可以用于定位性能问题，建议开启。</span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看慢查询日志是否启用及慢查询日志的路径</span></h2><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1.5em !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; SHOW VARIABLES LIKE 'slow_query_log%';</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------+--------------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| Variable_name | Value |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------+--------------------------------------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| slow_query_log | OFF |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| slow_query_log_file | /usr/local/var/mysql/upstreamdeMac-mini-slow.log |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------+--------------------------------------------------+</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">配置慢查询日志</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">编辑 my.cnf ，设置 log_slow_queries 参数为 1，同时设定 log-output 参数（日志输出类型）、slow-query-log_file 参数（慢查询日志路径）和 long_query_time 参数：</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># Slow logging.</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log-output</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=FILE</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log_slow_queries</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">//MySQL</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">5.6</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">将此参数修改为了slow_query_log</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">slow_query_log_file</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;filename.log&quot;</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">long_query_time</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">10</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">//慢查的时长单位为秒，可以精确到小数点后</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">6</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">位(微秒)</span></div></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">保存 my.cnf 更改，重启 MySQL 服务。</span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">关闭慢查询日志</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">设置 log_slow_queries 参数为 0：</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># Slow logging.</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log-output</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=NONE</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log_slow_queries</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">0</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">//MySQL</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">5.6</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">将此参数修改为了slow_query_log</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">slow_query_log_file</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;filename.log&quot;</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">long_query_time</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">10</span></div></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">保存 my.cnf 更改，重启 MySQL 服务。</span></div><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">四 二进制日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">二进制日志记录 MySQL 数据库中所有与更新相关的操作，即二进制日志记录了所有的 DDL（数据定义语言）语句和 DML（数据操纵语言）语句，但是不包括数据查询语句。常用于恢复数据库和主从复制。</span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看 log_bin 状态</span></h2><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1.5em !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; SHOW VARIABLES LIKE 'log_bin%';</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------------------+-------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| Variable_name | Value |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------------------+-------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_bin | OFF |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_bin_basename | |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_bin_index | |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_bin_trust_function_creators | OFF |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| log_bin_use_v1_row_events | OFF |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+---------------------------------+-------+</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">启用二进制日志功能</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">编辑 my.cnf ，在 [mysqld] 下添加</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># Binary Logging.</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">log-bin</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;filename-bin&quot;</span></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">保存 my.cnf 更改，重启 MySQL 服务。</span></div><h4 style="box-sizing: border-box; margin: 1.5em 0px; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">其他相关配置：</span></h4><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="box-sizing: border-box; font-size: 0.93em; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">max_binlog_size={4096 .. 1073741824} ;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">设定二进制日志文件上限，单位为字节，最小值为4K，最大值为1G，默认为1G。某事务所产生的日志信息只能写入一个二进制日志文件，因此，实际上的二进制日志文件可能大于这个指定的上限。作用范围为全局级别，可用于配置文件，属动态变量。</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看日志文件</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">在data目录下有一个mysql-bin.index便是索引文件，以mysql-bin开头并以数字结尾的文件为二进制日志文件。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;-en-paragraph:true;">查看所有的二进制文件：</span></div></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; show binary logs;</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+-----------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| Log_name | File_size |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+-----------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| mysql-bin.000001 | 276665 |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+-----------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1 row in set (0.03 sec)</span></div></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">查看当前正在使用的二进制文件：</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; show master status;</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+----------+--------------+------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| File | Position | Binlog_Do_DB | Binlog_Ignore_DB |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+----------+--------------+------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| mysql-bin.000003 | 107 | | |</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">+------------------+----------+--------------+------------------+</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1 row in set (0.00 sec)</span></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">二进制日志滚动</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">当 MySQL 服务进程启动、当前二进制日志文件的大小已经超过上限时、执行 FLUSH LOG 时，MySQL 会创建一个新的二进制日志文件。新的编号大1的日志用于记录最新的日志，而原日志名字不会被改变。</span></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">手动滚动命令：</span><span style="box-sizing: border-box; font-size: 0.93em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">flush logs;</span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">查看日志详细</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">查看binlog日志有几种方式：</span></div><div><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">1. 使用show binlog events方式可以获取当前以及指定binlog的日志，</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">2. 使用mysqlbinlog命令行。</span></div></div><h3 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.5em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.5em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">1. show binlog events方式</span></h3><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">只查看第一个binlog文件的内容(show binlog events)</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; show binlog events; #默认会返回mysql-bin.000001的日志</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">#太多，我就不截屏了</span></div></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">查看指定binlog文件的内容(show binlog events in 'binname.xxxxx')</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt;</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">show</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">binlog</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">events in</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">'mysql-bin.000002'</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;"><img src="https://static.segmentfault.com/v-5a7c12fe/global/img/squares.svg" style="box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer;"></img></span></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">获取指定位置binlog的内容(show binlog events from xxx)</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; show binlog events</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">in</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">'mysql-bin.000002'</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">from</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">107</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div></div><h3 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.5em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.5em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">2. mysqlbinlog命令行</span></h3><blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; margin: 0px;"><span style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog在mysql/bin目录</span></div></blockquote><h4 style="box-sizing: border-box; margin: 1.5em 0px; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">I 查看binlog日志</span></h4><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">查看指定的binlog日志</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">[root</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 0, 115); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">@localhost</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">bin]</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;"># ./mysqlbinlog ../data/mysql-bin.000003</span></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">按时间查看二进制日志</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --start-datetime=&quot;2015-3-11 17:00:00&quot;</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --stop-datetime=&quot;2015-3-12 17:30:00&quot;</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --start-datetime=&quot;2015-3-11 17:00:00&quot; --stop-datetime=&quot;2015-3-12 17:30:00&quot;</span></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">按字节数查看二进制日志</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --start-position=20</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --stop-position=200</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 --start-position=20 --stop-position=200</span></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">过滤insert、update操作</span><br/><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">mysqlbinlog ../data/mysql-bin.000003 | grep insert</span></li></ul><h4 style="box-sizing: border-box; margin: 1.5em 0px; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.25em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">II 查看binlog日志并输出</span></h4><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">下面参考：</span><a href="http://blog.csdn.net/leshami/article/details/41962243" style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: transparent; outline: 0px; border-bottom: 1px solid rgba(0, 154, 97, 0.25); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(0, 154, 97);">使用mysqlbinlog提取二进制日志</a></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">c、提取指定position位置的binlog日志并输出到压缩文件</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog --start-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;120&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--stop-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;332&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000001</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">|gzip &gt;extra_01.sql.gz</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">d、提取指定position位置的binlog日志导入数据库</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog --start-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;120&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--stop-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;332&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000001</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">| mysql -uroot -p</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">e、提取指定开始时间的binlog并输出到日志文件</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog --start-datetime=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;2014-12-15 20:15:23&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000002</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--result-file=extra02.sql</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">f、提取指定位置的多个binlog日志文件</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog --start-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;120&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--stop-position=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;332&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000001</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000002</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">|more</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">g、提取指定数据库binlog并转换字符集到UTF8</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog --database=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">test</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--set-charset=utf8 /opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000001</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">/opt/data/APP01bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000002</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&gt;</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">test</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">.sql</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">h、远程提取日志，指定结束时间</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog -urobin -p -h192</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.168</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.1</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.116</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">-P3306 --stop-datetime=</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(221, 17, 68); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&quot;2014-12-15 20:30:23&quot;</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--read-from-remote-server mysql-bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000033</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">|more</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">i、远程提取使用row格式的binlog日志并输出到本地文件</span></div><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># mysqlbinlog -urobin -p -P3606 -h192</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.168</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.1</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.177</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">--read-from-remote-server -vv inst3606bin</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 153, 153); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">.000005</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">&gt;row.sql</span></div><div><br/></div></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">expire_logs_days 参数</span></h2><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在 my.cnf 中配置</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 0.93em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">expire_logs_days</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">参数指定二进制日志的有效天数，MySQL 会自动删除过期的二进制日志。expire_logs_days 设置在服务器启动或者 MySQL 切换二进制日志时生效，因此，如果二进制日志没有增长和切换，服务器不会清除老条目。</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"># 二进制日志的有效天数</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">expire_logs_days</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">=</span> <span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">5</span></div><h2 style="box-sizing: border-box; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">清除二进制日志</span></h2><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">清除所有日志（</span><span style="box-sizing: border-box; font-size: 0.93em; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">不存在主从复制关系</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">）</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; RESET MASTER</span><span style="box-sizing: border-box; overflow: auto; font-size: 1em; word-break: break-all; word-wrap: break-word; border: none; border-radius: 0px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: none; overflow-wrap: normal; color: rgb(153, 153, 136); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">清除指定日志之前的所有日志</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; PURGE</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">MASTER</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 0, 0); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">LOGS</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">TO 'mysql-bin.</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">000003</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">';</span></div></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">清除某一时间点前的所有日志</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; PURGE</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">MASTER</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 0, 0); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">LOGS</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">BEFORE '</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">2015</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">-</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">01</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">-</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">01</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">00</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">:</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">00</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">:</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">00</span><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">';</span></div></div><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">清除 n 天前的所有日志</span></li></ul><div style="box-sizing: border-box; overflow: auto; font-size: 0.93em; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; word-break: break-all; word-wrap: break-word; border: none; border-radius: 4px; max-height: 35em; position: relative; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">mysql&gt; PURGE</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">MASTER</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(153, 0, 0); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45; font-weight: bold;">LOGS</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">BEFORE CURRENT_DATE - INTERVAL</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">10</span> <span style="box-sizing: border-box; font-size: 1em; background: none; border-radius: 0px; overflow-wrap: normal; color: rgb(51, 51, 51); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">DAY;</span></div></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">警告</span></div><blockquote style="box-sizing: border-box; padding: 10px 20px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; margin: 0px;"><span style="box-sizing: border-box; font-size: 0.93em; background-color: rgb(249, 242, 244); border-radius: 4px; color: rgb(199, 37, 78); font-family: &quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">由于二进制日志的重要性,请仅在确定不再需要将要被删除的二进制文件，或者在已经对二进制日志文件进行归档备份，或者已经进行数据库备份的情况下，才进行删除操作，且不要使用 rm 命令删除。</span></div></blockquote><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">五 事务日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">出于性能和故障恢复的考虑，MySQL 服务器不会立即执行事务，而是先将事务记录在日志里面，这样可以将随机IO转换成顺序IO，从而提高IO性能。</span></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">事物日志通常是一组至少两个固定大小的文件，当其中一个写满时，MySQL会将事务日志写入另一个日志文件(先清空原有内容)。当 MySQL 从崩溃中恢复时，会读取事务日志，将其中已经 commit 的事务写入数据库，没有 commit 的事务 rollback 。</span></div><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">事务日志由存储引擎(innodb)管理，一般不需要手动干预。</span></div><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">六 中继日志</span></h1><div style="box-sizing: border-box; margin: 1.5em 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">中继日志用于主从复制架构中的从服务器上，从服务器的 slave 进程从主服务器处获取二进制日志的内容并写入中继日志，然后由 IO 进程读取并执行中继日志中的语句。</span></div><h1 style="box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 2.25em; border-bottom: 1px solid rgb(238, 238, 238); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.2;">日志分析工具</span></h1><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">mysqldumpslowmysql</span><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">：官方提供的慢查询日志分析工具</span></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">mysqlsla</span><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">：</span><a href="http://hackmysql.com/" style="font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">hackmysql.com</a> <span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">推出的一款日志分析工具(该网站还维护了 mysqlreport，mysqlidxchk 等比较实用的mysql 工具)。 整体来说，功能非常强大。输出的数据报表非常有利于分析慢查询的原因，包括执行频率、数据量、查询消耗等。</span></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">myprofi</span><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">：纯 php 写的一个开源分析工具.项目在 </span><a href="http://myprofi.sourceforge.net/" style="box-sizing: border-box; background: transparent; outline: 0px; border-bottom: 1px solid rgba(0, 154, 97, 0.25); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(0, 154, 97);">sourceforge</a><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;"> 上。功能上，列出了总的慢查询次数和类型、去重后的 sql 语句、执行次数及其占总的 slow log 数量的百分比。从整体输出样式来看，比 mysql-log-filter 还要简洁，省去了很多不必要的内容。对于只想看 sql 语句及执行次数的用户来说，比较推荐。</span></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">mysql-log-filter</span><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;">：</span><a href="http://code.google.com/p/mysql-log-filter/" style="box-sizing: border-box; background: transparent; outline: 0px; border-bottom: 1px solid rgba(0, 154, 97, 0.25); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal; color: rgb(0, 154, 97);">google code</a><span style="color: rgb(51, 51, 51); font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 14px; font-variant-caps: normal; font-variant-ligatures: normal;"> 上找到的一个分析工具，提供了 python 和 php 两种可执行的脚本。 特色功能除了统计信息外，还针对输出内容做了排版和格式化，保证整体输出的简洁。喜欢简洁报表的朋友，推荐使用一下。</span></li></ul><div><br/></div></div><div><br/></div></span>
</div></body></html> 