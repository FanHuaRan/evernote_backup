<html>
<head>
  <title>TCP通讯解决半包、分包和粘包问题</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1448"/>
<h1>TCP通讯解决半包、分包和粘包问题</h1>

<div>
<span><div><div><b><font color="#147191" style="font-size: 18pt;">个人理解</font></b></div><div><font style="font-size: 12pt;">1.半包和粘包现象</font></div><div><ul><li><font style="font-size: 12pt;">半包：发送端发送了数量比较大的数据，接收端读取该数据时,数据分批到达，造成发送端一次发送而服务端多次读取的现象。通常和网络路由的缓存大小有关系，一个数据段大小超过缓存大小，那么网络就会拆包发送。</font><br/></li><li><font style="font-size: 12pt;">粘包：发送端发送了多次数据，接收端一次性读取了所有数据，造成客户端多次发送而服务端一次读取的现象；通常是网络流量优化引起，即网络把多个小的数据段集满达到一定的数据量，从而减少网络链路中的传输次数。</font><br/></li></ul></div><div><font style="font-size: 12pt;">      补充：分包不是问题，是服务端拆分粘包的处理手段。</font></div><div><font style="font-size: 12pt;">2.半包和粘包现象是一对相反的问题：出现半包现象，那服务端就要组装数据，出现粘包现象，服务端就要拆分数据(也就是分包)。</font></div><div><font style="font-size: 12pt;">3.半包和粘包问题的解决不能只依靠服务端，需要服务端和客户端一起定义数据的编码和解码规则才能够解决，其本质上是网络数据的编码和解码问题。</font></div><div><font style="font-size: 12pt;">4.三个比较常用的编码和解码方案</font></div><div><ul><li><font style="font-size: 12pt;">数据段定长，即每个数据都是固定字节。</font><br/></li><li><font style="font-size: 12pt;">头部定长，其中包含数据正文的长度。</font><br/></li><li><font style="font-size: 12pt;">分隔符，每个数据段结尾带一个特殊字符或者换行符，如#。</font><br/></li></ul></div><div><font style="font-size: 12pt;">     头部定长最普遍，其次是数据段定长和分隔符。</font></div><div><font style="font-size: 12pt;">5.客户端发送的每段数据我们称之为帧</font></div><div><font style="font-size: 12pt;">6.Netty预置的服务端解码器</font></div><div><ul><li><font style="font-size: 12pt;">DelimiterBasedFrameDecoder：使用任何由用户提供的分隔符来提取帧的通用解码器，分隔符在构造函数中指定</font><br/></li><li><font style="font-size: 12pt;">LineBasedFrameDecoder：提取由行尾符（\n 或者\r\n）分隔的帧的解码器，这个解码器比DelimiterBasedFrameDecoder 更快。</font><br/></li><li><font style="font-size: 12pt;">FixedLengthFrameDecoder：提取定长帧，长度在构造函数中指定</font><br/></li><li><font style="font-size: 12pt;">LengthFieldBasedFrameDecoder：根据编码进帧头部中的长度值提取帧；该字段的偏移量以及长度在构造函数中指定</font><br/></li></ul></div><div><b><font style="font-size: 18pt; color: rgb(20, 113, 145);">原文</font></b></div><div><b><font style="font-size: 12pt;">地址：<a href="http://blog.csdn.net/sweettool/article/details/77018506">http://blog.csdn.net/sweettool/article/details/77018506</a></font></b></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">TCP作为常用的网络传输协议，数据流解析是网络应用开发人员永远绕不开的一个问题。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">TCP数据传输是以无边界的数据流传输形式，所谓无边界是指数据发送端发送的字节数，在数据接收端接受时并不一定等于发送的字节数，可能会出现粘包情况。</span></div><h2 style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; margin: 8px 0px 16px; padding: 0px; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 24px; line-height: 1.75; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap;"><span style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 18px; line-height: 1.75; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap;">一、TCP粘包情况：</span></h2><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">1. 发送端发送了数量比较的数据，接收端读取数据时候数据分批到达，造成一次发送多次读取；通常网络路由的缓存大小有关系，一个数据段大小超过缓存大小，那么就要拆包发送。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">2. 发送端发送了几次数据，接收端一次性读取了所有数据，造成多次发送一次读取；通常是网络流量优化，把多个小的数据段集满达到一定的数据量，从而减少网络链路中的传输次数。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div><img src="TCP通讯解决半包、分包和粘包问题_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px 0px 24px;"/></div></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">TCP粘包的解决方案有很多种方法，最简单的一种就是发送的数据协议定义发送的数据包的结构：</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">1. 数据头：数据包的大小，固定长度。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">2. 数据内容：数据内容，长度为数据头定义的长度大小。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">实际操作如下：</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">a）发送端：先发送数据包的大小，再发送数据内容。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">b）接收端：先解析本次数据包的大小N，在读取N个字节，这N个字节就是一个完整的数据内容。</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">具体流程如下：</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div><img src="TCP通讯解决半包、分包和粘包问题_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px 0px 24px;"/></div></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">实现源码</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[cpp]</span> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 331px; top: 1497px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/** </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> * read size of len from sock into buf. </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">bool</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> readPack(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">* buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">size_t</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> len) {    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (NULL == buf || len &lt; 1) {    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(buf, 0, len); </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// only reset buffer len.  </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    ssize_t read_len = 0, readsum = 0;    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">do</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> {    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        read_len = read(sock, buf + readsum, len - readsum);    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (-1 == read_len) { </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// ignore error case  </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;receive data: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf + readsum);    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        readsum += read_len;    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    } </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">while</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (readsum &lt; len &amp;&amp; 0 != read_len);    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">true</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;    </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}   </span></li></ol></div></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><h2 style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; margin: 8px 0px 16px; padding: 0px; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 14px; line-height: 1.75; white-space: pre-wrap;"><span style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 14px; line-height: 1.75; white-space: pre-wrap;">二、测试用例介绍</span></h2><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">本篇提供的demo主要流程如下：</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">1. 客户端负责模拟发送数据，服务端负责接受数据，处理粘包问题</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">a）emulate_subpackage</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">模拟情况1，一个长数据经过多次才到达目的地，</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">在客户端字符串“This is a test case for client send subpackage data. data is not send complete at once.”每次只发送6个字节长度。服务端要把字符串集满才能处理数据（打印字符串）</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">b）emulate_adheringpackage</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">模拟情况2，多个数据在一次性到达目的地</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">在客户端将字符串“Hello I'm lucky. Nice too me you”切成三个数据段（都包含数据头和数据内容），然后一次性发送，服务端读取数据时对三个数据段逐个处理。</span></div><h2 style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; margin: 8px 0px 16px; padding: 0px; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 24px; line-height: 32px;"><span style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 24px; line-height: 32px;">三、源码实现</span></h2></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">server.cpp</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[cpp]</span> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 331px; top: 2538px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstdio&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstdlib&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstring&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;errno.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;sys/socket.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;sys/types.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;arpa/inet.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;unistd.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> newclient(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">bool</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> readPack(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">* buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">size_t</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> len);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> safe_close(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> &amp;sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> main(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> argc, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> *argv[]) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockfd = -1, newsockfd = -1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    socklen_t c = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr_in serv_addr, cli_addr;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// Create socket</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    sockfd = socket(AF_INET, SOCK_STREAM, 0);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (-1 == sockfd) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;new socket failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        exit(-1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// Prepare the sockaddr_in structure</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_family = AF_INET;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_addr.s_addr = INADDR_ANY;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_port = htons(7890);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// bind</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (bind(sockfd, (</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr *)&amp;serv_addr, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(serv_addr)) &lt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;bind failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        exit(-1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// listen</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    listen(sockfd, 5);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;listening...\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// accept new connection.</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    c = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr_in);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> i = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">while</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (i++ &lt; 3) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;waiting for new socket accept.\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        newsockfd = accept(sockfd, (</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr*)&amp;cli_addr, (socklen_t*)&amp;c);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (newsockfd &lt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;accept connect failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            safe_close(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            exit(-1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        pid_t pid = fork();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (0 == pid) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            newclient(newsockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            safe_close(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">break</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        } </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">else</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (pid &gt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            safe_close(newsockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    safe_close(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> newclient(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;newclient sock fd: %d\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> datasize = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> HEAD_SIZE = 9;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> buf[512] = {0};  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">while</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">true</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (! readPack(sock, buf, HEAD_SIZE)) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;read head buffer failed.\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            safe_close(sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        datasize = atoi(buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;data size: %s, value:%d\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf, datasize);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (! readPack(sock, buf, datasize)) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;read data buffer failed\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            safe_close(sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;data size: %d, text: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, datasize, buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (0 == strcmp(buf, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;exit&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">)) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">break</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf), </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;from server read complete.&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    write(sock, buf, strlen(buf) + 1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;newclient sockfd: %d, finish.\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    safe_close(sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> safe_close(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> &amp;sock) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (sock &gt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        close(sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sock = -1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> * read size of len from sock into buf.</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">bool</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> readPack(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">* buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">size_t</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> len) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (NULL == buf || len &lt; 1) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(buf, 0, len); </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// only reset buffer len.</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    ssize_t read_len = 0, readsum = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">do</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        read_len = read(sock, buf + readsum, len - readsum);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (-1 == read_len) { </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// ignore error case</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;receive data: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf + readsum);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        readsum += read_len;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    } </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">while</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (readsum &lt; len &amp;&amp; 0 != read_len);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">true</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div>client.cpp</div></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[cpp]</span> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 331px; top: 4843px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstdio&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstdlib&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;cstring&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;time.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;errno.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;sys/socket.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;arpa/inet.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: gray;">#include &lt;unistd.h&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> safe_close(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> &amp;sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> emulate_subpackage(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> emulate_adheringpackage(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> main(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> argc, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> *argv[]) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> buf[128] = {0};  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockfd = -1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr_in serv_addr;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// Create sock</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    sockfd = socket(AF_INET, SOCK_STREAM, 0);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (-1 == sockfd) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;new socket failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        exit(-1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_addr.s_addr = inet_addr(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;127.0.0.1&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_family = AF_INET;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    serv_addr.sin_port = htons(7890);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// Connect to remote server</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (connect(sockfd, (</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">struct</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sockaddr *)&amp;serv_addr, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(serv_addr)) &lt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;connection failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        exit(-1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    emulate_subpackage(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    emulate_adheringpackage(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> HEAD_SIZE = 9;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> temp[] = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;exit&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf), </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%0.*zu&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, HEAD_SIZE - 1, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(temp));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    write(sockfd, buf, HEAD_SIZE);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    write(sockfd, temp, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(temp));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;send complete.\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    read(sockfd, buf, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;receive data: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;client finish.\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    safe_close(sockfd);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> safe_close(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> &amp;sock) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (sock &gt; 0) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        close(sock);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sock = -1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> * emulate socket data write multi part.</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> emulate_subpackage(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;emulate_subpackage...\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> text[] = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;This is a test case for client send subpackage data. data is not send complete at once.&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">size_t</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> TEXTSIZE = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    ssize_t len = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">size_t</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sendsize = 0, sendsum = 0;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> HEAD_SIZE = 9;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> buf[64] = {0};  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(buf, HEAD_SIZE, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%08zu&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, TEXTSIZE);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    write(sock, buf, HEAD_SIZE);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;send data size: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">do</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sendsize = 6;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (sendsum + sendsize &gt; TEXTSIZE) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            sendsize = TEXTSIZE - sendsum;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        len = write(sock, text + sendsum, sendsize);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (-1 == len) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;send data failed. errno: %d, error: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, errno, strerror(errno));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        memset(buf, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(buf));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        snprintf(buf, len + 1, text + sendsum);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;send data: %s\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sendsum += len;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sleep(1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    } </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">while</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (sendsum &lt; TEXTSIZE &amp;&amp; 0 != len);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> * emualte socket data write adhering.</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);"> */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> emulate_adheringpackage(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sock) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    printf(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;emulate_adheringpackage...\n&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">const</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> HEAD_SIZE = 9;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> buf[1024] = {0};  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> text[128] = {0};  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(46, 139, 87);">char</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> *pstart = buf;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// append text</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(text, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(text, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text), </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Hello &quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, HEAD_SIZE, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%08zu&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, strlen(text) + 1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += HEAD_SIZE;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, strlen(text) + 1, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%s&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, text);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += strlen(text) + 1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// append text</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(text, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(text, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text), </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;I'm lucky.&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, HEAD_SIZE, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%08zu&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, strlen(text) + 1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += HEAD_SIZE;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, strlen(text) + 1, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%s&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, text);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += strlen(text) + 1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// append text</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    memset(text, 0, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(text, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">sizeof</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(text), </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Nice too me you&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, HEAD_SIZE, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%08zu&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, strlen(text) + 1);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += HEAD_SIZE;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    snprintf(pstart, strlen(text) + 1, </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;%s&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, text);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    pstart += strlen(text) + 1;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    write(sock, buf, pstart - buf);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div><span style="box-sizing: border-box; line-height: 1.75;">Makefile</span></div></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[plain]</span> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a> <a href="http://blog.csdn.net/sweettool/article/details/77018506#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 341px; top: 7274px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">CC=g++  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">CFLAGS=-I  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">all: server.o client.o  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">server.o: server.cpp  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    $(CC) -o server.o server.cpp  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">client.o: client.cpp  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    $(CC) -o client.o client.cpp  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">clean:  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    rm *.o  </span></li></ol></div><h2 style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; margin: 8px 0px 16px; padding: 0px; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 24px; line-height: 32px;"><span style="font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: bold; box-sizing: border-box; color: rgb(79, 79, 79); font-size: 24px; line-height: 32px;">四、测试结果</span></h2></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">编译及运行</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">$ make</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">g++ -o server.o server.cpp</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">g++ -o client.o client.cpp</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">客户端模拟发送数据</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">$ ./client.o</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">emulate_subpackage...</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data size: 00000088</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: This i</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: s a te</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: st cas</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: e for</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: client</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: send</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: subpac</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: kage d</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: ata. d</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: ata is</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: not s</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: end co</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: mplete</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: at on</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send data: ce.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">emulate_adheringpackage...</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">send complete.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: from server read complete.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">client finish.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><br style="box-sizing: border-box;"/></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">服务端模拟接受数据</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">$ ./server.o</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">listening...</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">waiting for new socket accept.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">waiting for new socket accept.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">newclient sock fd: 4</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: 00000088</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 00000088, value:88</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: This i</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: s a te</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: st cas</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: e for</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: client</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: send</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: subpac</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: kage d</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: ata. d</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: ata is</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: not s</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: end co</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: mplete</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: at on</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: ce.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 88, text: This is a test case for client send subpackage data. data is not send complete at once.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: 00000007</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 00000007, value:7</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: Hello</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 7, text: Hello</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: 00000011</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 00000011, value:11</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: I'm lucky.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 11, text: I'm lucky.</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: 00000016</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 00000016, value:16</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: Nice too me you</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 16, text: Nice too me you</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: 00000005</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 00000005, value:5</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">receive data: exit</span></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;"><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); white-space: pre-wrap; line-height: 1.75; font-size: 14px;">data size: 5, text: exit</span></div><div><span style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre-wrap; line-height: 1.75; font-size: 14px;">newclient sockfd: 4, finish.</span></div></div></span>
</div></body></html> 