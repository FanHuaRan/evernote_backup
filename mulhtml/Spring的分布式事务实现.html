<html>
<head>
  <title>Spring的分布式事务实现</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1796"/>
<h1>Spring的分布式事务实现</h1>

<div>
<span><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;"> </span><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;"> 分布式事务是指操作多个数据库之间的事务，spring的org.springframework.transaction.jta.JtaTransactionManager，提供了分布式事务支持。如果使用WAS的JTA支持，把它的属性改为WebSphere对应的TransactionManager。 </span></div><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">       在tomcat下，是没有分布式事务的，不过可以借助于第三方软件jotm（Java Open Transaction Manager ）和AtomikosTransactionsEssentials实现，在spring中分布式事务是通过jta（jotm，atomikos）来进行实现。 </span></div><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">1、<a href="http://jotm.objectweb.org/">http://jotm.objectweb.org/</a></span></div><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">2、<a href="http://www.atomikos.com/Main/TransactionsEssentials">http://www.atomikos.com/Main/TransactionsEssentials</a></span></div><div><br style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;"/></div><div><span style="font-weight: bold; box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">一、使用JOTM例子</span><span style="font-weight: bold; box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;"> </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;-en-paragraph:true;">(1) Dao及实现 </span></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">GenericDao接口：</span></div></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 721px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">interface</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> GenericDao {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> save(String ds, String sql, Object[] obj) </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception;    </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> findRowCount(String ds, String sql);   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">GenericDaoImpl 实现：</span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 886px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> GenericDaoImpl </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">implements</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> GenericDao{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  JdbcTemplate jdbcTemplateA;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  JdbcTemplate jdbcTemplateB;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> setJdbcTemplateA(JdbcTemplate jdbcTemplate) {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateA = jdbcTemplate;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> setJdbcTemplateB(JdbcTemplate jdbcTemplate) {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateB = jdbcTemplate;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> save(String ds, String sql, Object[] obj) </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> == ds || </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.equals(ds)) </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> -</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">1</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">try</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(ds.equals(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;A&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">)){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateA.update(sql, obj);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            }</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">else</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateB.update(sql, obj);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">catch</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(Exception e){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            e.printStackTrace();  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">throw</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;执行&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> + ds + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;数据库时失败！&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> findRowCount(String ds, String sql) {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> == ds || </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.equals(ds)) </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> -</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">1</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(ds.equals(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;A&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">)){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateA.queryForInt(sql);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">else</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.jdbcTemplateB.queryForInt(sql);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">(2) Service及实现 </span></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">UserService 接口：</span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 1722px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">interface</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> UserService {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> saveUser() </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">UserServiceImpl 实现：</span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 1869px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> UserServiceImpl </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">implements</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> UserService{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> GenericDao genericDao;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> setGenericDao(GenericDao genericDao) {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">this</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.genericDao = genericDao;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> saveUser() </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        String userName = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;user_&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> + Math.round(Math.random()*</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">10000</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(userName);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        StringBuilder sql = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> StringBuilder();  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sql.append(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot; insert into t_user(username, gender) values(?,?); &quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        Object[] objs = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Object[]{userName,</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;1&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">};  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        genericDao.save(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;A&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, sql.toString(), objs);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sql.delete(</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">0</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, sql.length());  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        sql.append(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot; insert into t_user(name, sex) values(?,?); &quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        objs = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Object[]{userName,</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;男的&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">};</span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">//值超出范围</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        genericDao.save(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;B&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, sql.toString(), objs);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><br style="box-sizing: border-box;"/></div><div><span style="box-sizing: border-box; color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">(3) applicationContext-jotm.xml </span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 2435px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;?xml version=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;1.0&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> encoding=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;UTF-8&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">?&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;beans xmlns=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a>&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    xmlns:xsi=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    xmlns:context=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;<a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    xmlns:aop=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;<a href="http://www.springframework.org/schema/aop">http://www.springframework.org/schema/aop</a>&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    xmlns:tx=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;<a href="http://www.springframework.org/schema/tx">http://www.springframework.org/schema/tx</a>&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    xsi:schemaLocation=&quot;http:</span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">//<a href="http://www.springframework.org/schema/beans">www.springframework.org/schema/beans</a><a href="http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</a></span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    http:</span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">//<a href="http://www.springframework.org/schema/context">www.springframework.org/schema/context</a><a href="http://www.springframework.org/schema/context/spring-context-2.5.xsd">http://www.springframework.org/schema/context/spring-context-2.5.xsd</a></span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    http:</span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">//<a href="http://www.springframework.org/schema/tx">www.springframework.org/schema/tx</a><a href="http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">http://www.springframework.org/schema/tx/spring-tx-2.5.xsd</a></span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    http:</span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">//<a href="http://www.springframework.org/schema/aop">www.springframework.org/schema/aop</a><a href="http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</a>&quot;&gt;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;description&gt;springJTA&lt;/description&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!--指定Spring配置中用到的属性文件--&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;propertyConfig&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;locations&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            &lt;list&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                &lt;value&gt;classpath:jdbc.properties&lt;/value&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            &lt;/list&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- JOTM实例 --&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jotm&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.transaction.jta.JotmFactoryBean&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;defaultTimeout&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;500000&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- JTA事务管理器 --&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jtaTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;     </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;userTransaction&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jotm&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> /&gt;     </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- 数据源A --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSourceA&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.enhydra.jdbc.pool.StandardXAPoolDataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;shutdown&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">           &lt;bean </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.enhydra.jdbc.standard.StandardXADataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;shutdown&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;transactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jotm&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;driverName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc.driver}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;url&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc.url}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">           &lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;user&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc.username}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;password&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc.password}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- 数据源B --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSourceB&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.enhydra.jdbc.pool.StandardXAPoolDataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;shutdown&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">           &lt;bean </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.enhydra.jdbc.standard.StandardXADataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;shutdown&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;transactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jotm&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;driverName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc2.driver}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">               &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;url&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc2.url}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">           &lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;user&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc2.username}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;password&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${jdbc2.password}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jdbcTemplateA&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">         </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">         &lt;property name = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSourceA&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jdbcTemplateB&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">         </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">         &lt;property name = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSource&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSourceB&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/bean&gt;      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- 事务切面配置 --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;aop:config&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;aop:pointcut id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;pointCut&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                expression=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;execution(* com.logcd.service..*.*(..))&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;&lt;!-- 包及其子包下的所有方法 --&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;aop:advisor pointcut-ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;pointCut&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> advice-ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;txAdvice&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;aop:advisor pointcut=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;execution(* *..common.service..*.*(..))&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> advice-ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;txAdvice&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/aop:config&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;!-- 通知配置 --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;tx:advice id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;txAdvice&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> transaction-manager=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;jtaTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;tx:attributes&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          &lt;tx:method name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;delete*&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> rollback-</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Exception&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          &lt;tx:method name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;save*&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> rollback-</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Exception&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          &lt;tx:method name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;update*&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> rollback-</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Exception&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">          &lt;tx:method name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;find*&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> read-only=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;true&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> rollback-</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Exception&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">       &lt;/tx:attributes&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/tx:advice&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;genericDao&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;com.logcd.dao.impl.GenericDaoImpl&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> autowire=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;byName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt; &lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;userService&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;com.logcd.service.impl.UserServiceImpl&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> autowire=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;byName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt; &lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/beans&gt;  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><br style="box-sizing: border-box;"/></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(79, 79, 79); line-height: 25.1875px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">(4) 测试 </span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 4226px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> TestUserService{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> UserService userService;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(100, 100, 100);">@BeforeClass</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> init(){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        ApplicationContext app = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ClassPathXmlApplicationContext(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;applicationContext-jotm.xml&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        userService = (UserService)app.getBean(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;userService&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">      </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(100, 100, 100);">@Test</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> save(){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;begin...&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">try</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">{  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            userService.saveUser();  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">catch</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">(Exception e){  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            System.out.println(e.getMessage());  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;finish...&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div><br style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">二、关于使用atomikos实现</span><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;"> </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;-en-paragraph:true;">(1) 数据源配置 </span></div></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 4791px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;dataSourceA&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;com.atomikos.jdbc.SimpleDataSourceBean&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> init-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;init&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;close&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;uniqueResourceName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;${datasource.uniqueResourceName}&lt;/value&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;xaDataSourceClassName&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;${database.driver_class}&lt;/value&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;xaDataSourceProperties&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;URL=${database.url};user=${database.username};password=${database.password}&lt;/value&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;exclusiveConnectionMode&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;${connection.exclusive.mode}&lt;/value&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;connectionPoolSize&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;${connection.pool.size}&lt;/value&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;connectionTimeout&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;${connection.timeout}&lt;/value&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;validatingQuery&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;value&gt;SELECT </span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">1</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/value&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/property&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/bean&gt;  </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div><span style="box-sizing: border-box; color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.1875px;">(2)、事务配置 </span></div><div style="position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 924.656px; padding-top: 1px; text-align: left; margin: 0px 0px 24px; box-sizing: border-box; border-color: rgb(204, 204, 204); color: rgb(85, 85, 85); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding-left: 45px;"><div style="box-sizing: border-box; padding: 3px 8px 10px 10px; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/ithomer/article/details/10859235#" style="box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; color: rgb(12, 137, 207); font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="box-sizing: border-box; position: absolute; left: 599px; top: 5332px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;atomikosTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;com.atomikos.icatch.jta.UserTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    init-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;init&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> destroy-method=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;close&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;forceShutdown&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;true&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/bean&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;atomikosUserTransaction&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;com.atomikos.icatch.jta.UserTransactionImp&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;transactionTimeout&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> value=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;${transaction.timeout}&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;!-- JTA事务管理器 --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;bean id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;springTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;transactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;atomikosTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;property name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;userTransaction&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;atomikosUserTransaction&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/bean&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;!-- 事务切面配置 --&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;aop:config&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;aop:pointcut id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;serviceOperation&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  expression=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;execution(* *..service*..*(..))&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;aop:advisor pointcut-ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;serviceOperation&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> advice-ref=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;txAdvice&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/aop:config&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;!-- 通知配置 --&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;tx:advice id=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;txAdvice&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> transaction-manager=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;springTransactionManager&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;tx:attributes&gt;  </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        &lt;tx:method name=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;*&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> rollback-</span><span style="box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-weight: bold;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">=</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;Exception&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">/&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    &lt;/tx:attributes&gt;   </span></li><li style="box-sizing: border-box; margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; list-style-type: decimal; list-style-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px; list-style-position: outside !important;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">&lt;/tx:advice&gt;   </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="font-weight: bold; box-sizing: border-box;">有关JTA</span></div><div>JTA全称为Java Transaction API，顾名思义JTA定义了一组统一的事务编程的接口，这些接口如下：</div><div> </div><div><span style="font-weight: bold; box-sizing: border-box;">XAResource </span></div><div>XAResource接口是对实现了X/Open CAE规范的资源管理器 (Resource Manager，数据库就是典型的资源管理器) 的抽象，它由资源适配器 (Resource Apdater) 提供实现。XAResource是支持事务控制的核心。</div><div><br style="box-sizing: border-box;"/></div><div><span style="font-weight: bold; box-sizing: border-box;">Transaction</span></div><div>Transaction接口是一个事务实例的抽象，通过它可以控制事务内多个资源的提交或者回滚。二阶段提交过程也是由Transaction接口的实现者来完成的。</div><div><br style="box-sizing: border-box;"/></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div>TransactionManager</div><div>托管模式 (managed mode) 下，TransactionManager接口是被应用服务器调用，以控制事务的边界的。</div><div> </div><div>UserTransaction</div><div>非托管模式 (non-managed mode) 下，应用程序可以通过UserTransaction接口控制事务的边界</div><div> </div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">托管模式下的事务提交场景</span></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><img src="Spring的分布式事务实现_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" style="border: none; box-sizing: border-box; margin: 0px; max-width: 602px; max-height: 100%; height: auto;"/></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">注意</span><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">：在上图中3和5的步骤之间省略了应用程序对资源的操作 (如CRUD)。另外，应用服务器什么时机 enlistResource，又是什么时候delistResource呢？这在后文中会解释。</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="font-weight: bold; box-sizing: border-box;">有关JCA</span></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">下图为JCA的架构图</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><img src="Spring的分布式事务实现_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg" style="border: none; box-sizing: border-box; margin: 0px; max-width: 602px; max-height: 100%; height: auto;"/></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div>中间涉及元素说明如下：</div><div>1）Enterprise Information System</div><div>简称EIS，在JTA中它又被称为资源管理器。典型的EIS有数据库，事务处理系统(Transaction Processing System)，ERP系统。</div><div><br/></div><div>2）Resource Adapter</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">资源适配器(Resource Adaper)是JCA的关键。要想把不同的EIS整合(或者连接)到J2EE运行环境中，就必须为每个EIS提供资源适配器，它会将将EIS适配为一个具备统一编程接口的资源 (Resource) 。这个统一编程接口就是上图中的System Contracts和Client API。下面的UML类图将完美诠释资源适配器。</span></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div>3）Application Server</div><div>应用服务器 (Application Server) 通过System Contracts来管理对EIS的安全、事务、连接等。典型的应用服务器有JBoss、JOnAS、Geronimo、GlassFish等。</div><div> </div><div>4）Application Component </div><div>应用组件 (Application Component) ，它封装了应用业务逻辑，像对资源的访问和修改。典型的应用组件就是EJB。</div><div> </div><div>更多细节请参见：</div><div>Sun Microsystems Inc.J2EE Connector Architecture 1.5 </div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 16px; color: rgb(255, 0, 0); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">参考推荐：</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><a href="http://log-cd.iteye.com/blog/807607" style="box-sizing: border-box; color: rgb(12, 137, 207);">Spring分布式事务实现</a></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><a href="http://zhongl.iteye.com/blog/317041" style="box-sizing: border-box; font-size: 16px; color: rgb(12, 137, 207); line-height: 26px; min-height: 26px; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">JTA与JCA分布式事务</a></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><a href="http://www.ibm.com/developerworks/cn/java/j-jca/" style="box-sizing: border-box; color: rgb(12, 137, 207);">理解 JCA 事务</a>（IBM）</div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><a href="http://zhongl.iteye.com/blog/315430" style="box-sizing: border-box; color: rgb(12, 137, 207);">Jencks实现Hibernate与Jackrabbit的分布式事务</a></div></div><div><font style="font-size: 12pt; color: rgb(20, 113, 145);">原文地址：<a href="http://blog.csdn.net/ithomer/article/details/10859235" style="color: rgb(20, 113, 145);">http://blog.csdn.net/ithomer/article/details/10859235</a></font></div></span>
</div></body></html> 