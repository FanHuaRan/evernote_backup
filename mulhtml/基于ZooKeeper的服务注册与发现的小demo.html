<html>
<head>
  <title>基于ZooKeeper的服务注册与发现的小demo</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1868"/>
<h1>基于ZooKeeper的服务注册与发现的小demo</h1>

<div>
<span><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">1、项目的目录结构</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><img src="基于ZooKeeper的服务注册与发现的小demo_files/Image.png" type="image/png" data-filename="Image.png" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px;"/></div></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">2、基于zk服务注册和发现的架构图</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">      </span><img src="基于ZooKeeper的服务注册与发现的小demo_files/Image [1].png" type="image/png" data-filename="Image.png" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px;"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">3、服务端(像zk提供服务的访问地址)</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left; color: rgb(69, 69, 69); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 334px; top: 928px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">package</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> cn.zk.distribute;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.CreateMode;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.KeeperException;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.ZooDefs.Ids;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.ZooKeeper;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> DistributedSystemServer {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ZooKeeper zk = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> getZkClient() </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 服务器在需求中并不需要做任何监听</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        zk = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ZooKeeper(GlobalConstants.zkhosts,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                GlobalConstants.sessionTimeout, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * 向zookeeper中的/servers下创建子节点</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * @throws InterruptedException</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * @throws KeeperException</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> connectZK(String serverName, String port) </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 先创建出父节点</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (zk.exists(GlobalConstants.parentZnodePath, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">) == </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            zk.create(GlobalConstants.parentZnodePath, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                    Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 连接zk创建znode</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        zk.create(GlobalConstants.parentZnodePath + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;/&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                (serverName + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;:&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> + port).getBytes(), Ids.OPEN_ACL_UNSAFE,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                CreateMode.EPHEMERAL_SEQUENTIAL);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;server &quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> + serverName + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot; is online ......&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 服务器的具体业务处理功能</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> handle(String serverName) </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;server &quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> + serverName  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot; is waiting for task process......&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        Thread.sleep(Long.MAX_VALUE);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> main(String[] args) </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        DistributedSystemServer server = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> DistributedSystemServer();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 获取与zookeeper通信的客户端连接</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        server.getZkClient();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 一启动就去zookeeper上注册服务器信息，参数1： 服务器的主机名 参数2：服务器的监听端口</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        server.connectZK(args[</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">0</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">], args[</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">1</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">]);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 进入业务逻辑处理流程</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        server.handle(args[</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">0</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">]);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">2、客户端(获取zk提供的服务地址，并调用服务)</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left; color: rgb(69, 69, 69); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 334px; top: 2299px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">package</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> cn.zk.distribute;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> java.util.ArrayList;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> java.util.List;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.WatchedEvent;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.Watcher;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.ZooKeeper;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">import</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> org.apache.zookeeper.Watcher.Event.EventType;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> DistributedSystemClient {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">volatile</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> List&lt;String&gt; servers = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ZooKeeper zk = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 获取zk连接</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> getZkClient() </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 服务器在需求中并不需要做任何监听</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        zk = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ZooKeeper(GlobalConstants.zkhosts,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                GlobalConstants.sessionTimeout, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Watcher() {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                    </span><span style="box-sizing: border-box; border: none; color: rgb(100, 100, 100);">@Override</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> process(WatchedEvent event) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">if</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (event.getType() == EventType.None)  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">return</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">try</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                            </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 获取新的服务器列表,重新注册监听</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                            updateServers();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                        } </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">catch</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (Exception e) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                            e.printStackTrace();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                });  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * 从zk中获取在线服务器信息</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> updateServers() </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 从servers父节点下获取到所有子节点，并注册监听</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        List&lt;String&gt; children = zk.getChildren(GlobalConstants.parentZnodePath,  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">true</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        ArrayList&lt;String&gt; serverList = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> ArrayList&lt;String&gt;();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (String child : children) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">byte</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">[] data = zk.getData(GlobalConstants.parentZnodePath + </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;/&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">                    + child, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">false</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">, </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">null</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            serverList.add(</span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> String(data));  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 如果客户端是一个多线程程序，而且各个线程都会竞争访问servers列表，所以，在成员中用volatile修饰了一个servers变量</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 而在更新服务器信息的这个方法中，是用一个临时List变量来进行更新</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        servers = serverList;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 将更新之后的服务器列表信息打印在控制台观察一下</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">for</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> (String server : serverList) {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">            System.out.println(server);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        System.out.println(</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;===================&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">/**</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * 业务逻辑</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     * @throws InterruptedException</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">     */</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">private</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> requestService() </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> InterruptedException {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        Thread.sleep(Long.MAX_VALUE);  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">void</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> main(String[] args) </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">throws</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Exception {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        DistributedSystemClient client = </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">new</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> DistributedSystemClient();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 先构造一个zk的连接</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        client.getZkClient();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 获取服务器列表</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        client.updateServers();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 客户端进入业务流程，请求服务器的服务</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">        client.requestService();  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    }  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">3、用到的常量配置信息</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left; color: rgb(69, 69, 69); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 334px; top: 4294px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">package</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> cn.zk.distribute;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">class</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> GlobalConstants {  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// zk服务器列表</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">final</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> String zkhosts = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;192.168.2.118:2181&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 连接的超时时间</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">final</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">int</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> sessionTimeout = </span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">2000</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="box-sizing: border-box; border: none; color: rgb(0, 130, 0);">// 服务在zk下的路径</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">    </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">public</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">static</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="font-weight: bold; box-sizing: border-box; border: none; color: rgb(0, 102, 153); font-size: 14px; border-radius: 2px; word-wrap: normal;">final</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> String parentZnodePath = </span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 255);">&quot;/servers&quot;</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">;  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92); line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">}  </span></li></ol></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">4、将服务端，导出为可以运行的jar文件</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">      </span><img src="基于ZooKeeper的服务注册与发现的小demo_files/Image [2].png" type="image/png" data-filename="Image.png" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px;"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">      </span><img src="基于ZooKeeper的服务注册与发现的小demo_files/Image [3].png" type="image/png" data-filename="Image.png" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px;"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">       </span><img src="基于ZooKeeper的服务注册与发现的小demo_files/Image [4].png" type="image/png" data-filename="Image.png" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; margin: 0px;"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-indent: 28px;"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-indent: 28px;">jar的运行</span></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 24px; padding: 1px 0px 0px; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 851.391px; text-align: left; color: rgb(69, 69, 69); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="margin: 0px; padding: 0px 0px 0px 45px; box-sizing: border-box;"><div style="margin: 0px; padding: 3px 8px 10px 10px; box-sizing: border-box; font-variant: normal; font-stretch: normal; font-size: 9px; line-height: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left: 3px solid rgb(108, 226, 108); border-right: 1px solid rgb(231, 229, 220);"><div><span style="font-weight: bold; box-sizing: border-box;">[java]</span> <a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="color: rgb(103, 149, 181); outline: 0px; box-sizing: border-box; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_plain.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="view plain">view plain</a><span style="box-sizing: border-box;"> </span><a href="http://blog.csdn.net/zbw18297786698/article/details/54426970#" style="box-sizing: border-box; color: rgb(103, 149, 181); outline: 0px; background-image: url(&quot;//csdnimg.cn/release/phoenix/images/ico_copy.gif&quot;); background-position: left top; background-repeat: no-repeat; border: none; font-size: 9px; width: 16px; height: 16px; text-indent: -2000px;" title="copy">copy</a></div><div style="margin: 0px; padding: 0px; box-sizing: border-box; position: absolute; left: 334px; top: 6224px; width: 16px; height: 16px; z-index: 99;"></div></div></div><ol start="1" style="margin: 0px 0px 24px; padding: 0px; box-sizing: border-box; list-style: decimal; border-top: none; border-right: 1px solid rgb(231, 229, 220); border-bottom: none; border-left: none; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin-top: 8px; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 40px; padding: 0px 3px 0px 10px !important; font-weight: 400; box-sizing: border-box; list-style-type: decimal; list-style-position: outside !important; list-style-image: initial; border-top: none; border-right: none; border-bottom: none; border-left: 3px solid rgb(108, 226, 108); border-image: initial; background-color: rgb(255, 255, 255); color: inherit; line-height: 18px;"><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">[root</span><span style="box-sizing: border-box; border: none; color: rgb(100, 100, 100);">@localhost</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> Desktop]# java -jar server.jar </span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">192.168</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">.</span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">2.11</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);"> </span><span style="box-sizing: border-box; border: none; color: rgb(192, 0, 0);">4567</span><span style="box-sizing: border-box; border: none; color: rgb(0, 0, 0);">  </span></li></ol></div><div><br style="box-sizing: border-box; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></div><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; font-size: 16px; color: rgb(79, 79, 79); line-height: 26px; min-height: 26px; text-align: justify; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">5、将客户端，导出为可以运行的jar文件</span></div><div><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">      步骤与上面的4相同，可以参照上面的步骤过程。</span><span style="box-sizing: border-box; font-size: 14px; color: rgb(102, 102, 102); line-height: 24px; min-height: 26px; font-family: &quot;microsoft yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">    </span></div></span>
</div></body></html> 