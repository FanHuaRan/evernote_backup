<html>
<head>
  <title>JDK中的那些单例</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1502"/>
<h1>JDK中的那些单例</h1>

<div>
<span><div><h2 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin: 18px 0px; font-size: 18px; padding: 10px 0px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 18px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">java.lang.Runtime</span></h2><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">类封装了Java运行时的环境。每一个java程序实际上都是启动了一个JVM进程，那么每个JVM进程都是对应这一个Runtime实例，此实例是由JVM为其实例化的。每个 Java 应用程序都有一个 Runtime 类实例，使应用程序能够与其运行的环境相连接。</span></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">由于Java是单进程的，所以，在一个JVM中，Runtime的实例应该只有一个。所以应该使用单例来实现。</span></div><div style="box-sizing: border-box; overflow: hidden; font-family: &quot;courier new&quot;; font-size: 12px; padding: 2px; margin: 20px 0px; line-height: 20px; color: rgb(248, 248, 212); word-break: break-all; word-wrap: break-word; background: rgb(39, 40, 34); border: 1px solid rgb(204, 204, 204); border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; font-stretch: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Runtime</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">private</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Runtime</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">currentRuntime</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Runtime</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Runtime</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getRuntime</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">return</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">currentRuntime</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">private</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Runtime</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{}</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">以上代码为JDK中</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">类的部分实现，可以看到，这其实是饿汉式单例模式。在该类第一次被classloader加载的时候，这个实例就被创建出来了。</span></div><blockquote style="box-sizing: border-box; padding: 15px 20px 1px; margin: 30px; font-size: 16px; border-left: 5px solid rgb(238, 238, 238); color: rgb(153, 153, 153); font-family: &quot;Microsoft Yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">一般不能实例化一个</span><span style="box-sizing: border-box; word-wrap: break-word; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word;">对象，应用程序也不能创建自己的 Runtime 类实例，但可以通过</span><span style="box-sizing: border-box; word-wrap: break-word;"> </span><span style="box-sizing: border-box; word-wrap: break-word; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">getRuntime</span><span style="box-sizing: border-box; word-wrap: break-word;"> </span><span style="box-sizing: border-box; word-wrap: break-word;">方法获取当前</span><span style="box-sizing: border-box; word-wrap: break-word; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word;">运行时对象的引用。</span></div></blockquote><hr style="box-sizing: content-box; height: 0px; margin-top: 20px; margin-bottom: 20px; border-width: 1px 0px 0px; border-top-style: solid; border-top-color: rgb(238, 238, 238); color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><h2 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin: 18px 0px; font-size: 18px; padding: 10px 0px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 18px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">GUI中的单例</span></h2><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">除了</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">是典型的单例以外。JDK中还有几个类是单例的，他们都是GUI中的类。这几个单例的类和</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Runtime</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">最大的区别就在于他们并不是饿汉模式，也就是他们都是惰性初始化的懒汉单例。如果分析其原因的话也比较简单：那就是他们并不需要事先创建好，只要在第一次真正用到的时候再创建就可以了。因为很多时候我们并不是用Java的GUI和其中的对象。如果使用饿汉单例的话会影响JVM的启动速度。</span></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">由于Java的强项并不是做GUI，所以这几个类其实并不会经常被用到。笔者也没用过。把代码贴到这里，从单例的实现的角度简单分析一下。</span></div><h3 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin-top: 20px; margin-bottom: 18px; font-size: 16px; padding: 10px 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">java.awt.Toolkit#getDefaultToolkit()</span></h3><div style="box-sizing: border-box; overflow: hidden; font-family: &quot;courier new&quot;; font-size: 12px; padding: 2px; margin: 20px 0px; line-height: 20px; color: rgb(248, 248, 212); word-break: break-all; word-wrap: break-word; background: rgb(39, 40, 34); border: 1px solid rgb(204, 204, 204); border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; font-stretch: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">abstract</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(147, 161, 161); border-radius: 0px; white-space: pre-wrap;">/**</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(147, 161, 161); border-radius: 0px; white-space: pre-wrap;">* The default toolkit.</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(147, 161, 161); border-radius: 0px; white-space: pre-wrap;">*/</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">private</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">synchronized</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getDefaultToolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">==</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">java</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">security</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AccessController</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">doPrivileged</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">java</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">security</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">PrivilegedAction</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">&lt;</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Void</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">&gt;()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Void</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">run</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Class</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">&lt;?&gt;</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cls</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">String</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">System</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getProperty</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;awt.toolkit&quot;</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">try</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cls</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Class</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">forName</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">catch</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">ClassNotFoundException</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">e</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">ClassLoader</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cl</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">ClassLoader</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getSystemClassLoader</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cl</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">!=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">try</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cls</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cl</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">loadClass</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">catch</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">final</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">ClassNotFoundException</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">ignored</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">throw</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AWTError</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;Toolkit not found: &quot;</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">+</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">try</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cls</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">!=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Toolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">cls</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">newInstance</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">GraphicsEnvironment</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">isHeadless</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">())</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">HeadlessToolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">catch</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">final</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">InstantiationException</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">ignored</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">throw</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AWTError</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;Could not instantiate Toolkit: &quot;</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">+</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">catch</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">final</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">IllegalAccessException</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">ignored</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">throw</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AWTError</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;Could not access Toolkit: &quot;</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">+</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">nm</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">return</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">});</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">loadAssistiveTechnologies</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">return</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">toolkit</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">上面的代码是</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Toolkit</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">类的单例实现。这里类加载时只静态声明了私有</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">toolkit</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">并没有创建</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">Toolkit</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">实例对象，延迟加载加快了JVM启动速度。</span></div><blockquote style="box-sizing: border-box; padding: 15px 20px 1px; margin: 30px; font-size: 16px; border-left: 5px solid rgb(238, 238, 238); color: rgb(153, 153, 153); font-family: &quot;Microsoft Yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">单例模式作为一种创建模式，这里在依赖加载的时候应用了另一种创建对象的方式，不是</span><span style="box-sizing: border-box; word-wrap: break-word; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">new</span><span style="box-sizing: border-box; word-wrap: break-word;">新的对象，因为</span><span style="box-sizing: border-box; word-wrap: break-word; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">Toolkit</span><span style="box-sizing: border-box; word-wrap: break-word;">本身是个抽象类不能实例化对象，而是通过反射机制加载类并创建新的实例。</span></div></blockquote><h3 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin-top: 20px; margin-bottom: 18px; font-size: 16px; padding: 10px 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">java.awt.GraphicsEnvironment#getLocalGraphicsEnvironment()</span></h3><div style="box-sizing: border-box; overflow: hidden; font-family: &quot;courier new&quot;; font-size: 12px; padding: 2px; margin: 20px 0px; line-height: 20px; color: rgb(248, 248, 212); word-break: break-all; word-wrap: break-word; background: rgb(39, 40, 34); border: 1px solid rgb(204, 204, 204); border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; font-stretch: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">abstract</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">GraphicsEnvironment</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">private</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">GraphicsEnvironment</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">localEnv</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">synchronized</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">GraphicsEnvironment</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getLocalGraphicsEnvironment</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">()</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">localEnv</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">==</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">localEnv</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">createGE</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">return</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">localEnv</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">这里类加载时只静态声明了私有</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">localEnv</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">并没有创建实例对象。在</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">GraphicsEnvironment</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">类被第一次调用时会创建该对象。这里没有贴出的</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(199, 37, 78); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.5px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); border-radius: 4px;">createGE()</span><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">方法也是通过</span><a href="http://www.hollischuang.com/archives/1163" style="box-sizing: border-box; word-wrap: break-word; color: rgb(44, 219, 135); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); background: 0px 0px; text-decoration: underline;">反射</a><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">的方式创建对象的。</span></div><h3 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin-top: 20px; margin-bottom: 18px; font-size: 16px; padding: 10px 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 16px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">java.awt.Desktop#getDesktop()</span></h3><div style="box-sizing: border-box; overflow: hidden; font-family: &quot;courier new&quot;; font-size: 12px; padding: 2px; margin: 20px 0px; line-height: 20px; color: rgb(248, 248, 212); word-break: break-all; word-wrap: break-word; background: rgb(39, 40, 34); border: 1px solid rgb(204, 204, 204); border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; font-stretch: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">public</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">static</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">synchronized</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getDesktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(){</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">GraphicsEnvironment</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">isHeadless</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">())</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">throw</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">HeadlessException</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(!</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">isDesktopSupported</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">())</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">throw</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">UnsupportedOperationException</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;Desktop API is not &quot;</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">+</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(230, 219, 116); border-radius: 0px; white-space: pre-wrap;">&quot;supported on the current platform&quot;</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">sun</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">awt</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AppContext</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">context</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">sun</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">awt</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">AppContext</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">getAppContext</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">context</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">get</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">if</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">==</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">null</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">)</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">{</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">desktop</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">=</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">new</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">();</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">context</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">put</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">(</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 226, 46); border-radius: 0px; white-space: pre-wrap;">Desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">.</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">class</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">,</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">);</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(249, 38, 89); border-radius: 0px; white-space: pre-wrap;">return</span> <span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(102, 217, 239); border-radius: 0px; white-space: pre-wrap;">desktop</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">;</span></div><div><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(248, 248, 242); border-radius: 0px; white-space: pre-wrap;">}</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">上面的代码看上去和单例不太一样。但是实际上也是线程安全的懒汉式单例。获取对象的时候先去环境容器中查找是否存在，不存在实例则创建一个实例。</span></div><blockquote style="box-sizing: border-box; padding: 15px 20px 1px; margin: 30px; font-size: 16px; border-left: 5px solid rgb(238, 238, 238); color: rgb(153, 153, 153); font-family: &quot;Microsoft Yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">以上三个类的获取实例的方法都通过同步方法的方式保证了线程安全。</span></div><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">Runtime类是通过静态初始化的方式保证其线程安全的。</span></div></blockquote><h2 style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); margin: 18px 0px; font-size: 18px; padding: 10px 0px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-family: &quot;Microsoft Yahei&quot;; font-weight: bold; line-height: 1.1; color: rgb(85, 85, 85); font-size: 18px; border-bottom: 1px solid rgb(234, 234, 234); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">总结</span></h2><div style="box-sizing: border-box; margin: 0px 0px 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &quot;Microsoft Yahei&quot;; font-size: 15px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">文中介绍了四个单例的例子，其中有一个是饿汉式单例，三个是懒汉式单例。通过JDK中的实际应用我们可以得出以下结论：</span></div><blockquote style="box-sizing: border-box; padding: 15px 20px 1px; margin: 30px; font-size: 16px; border-left: 5px solid rgb(238, 238, 238); color: rgb(153, 153, 153); font-family: &quot;Microsoft Yahei&quot;; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">当一个类的对象只需要或者只可能有一个时，应该考虑单例模式。</span></div><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">如果一个类的实例应该在JVM初始化时被创建出来，应该考虑使用饿汉式单例。</span></div><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">如果一个类的实例不需要预先被创建，也许这个类的实例并不一定能用得上，也许这个类的实例创建过程比较耗费时间，也许就是真的没必须提前创建。那么应该考虑懒汉式单例。</span></div><div style="box-sizing: border-box; margin: 0px 0px 10px; word-wrap: break-word; padding: 0px;"><span style="box-sizing: border-box; word-wrap: break-word;">在使用懒汉式单例的时候，应该考虑到线程的安全性问题。</span></div></blockquote><div><br/></div></div></span>
</div></body></html> 