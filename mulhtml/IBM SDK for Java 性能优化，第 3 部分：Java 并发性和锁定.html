<html>
<head>
  <title>IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="939"/>
<h1>IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定</h1>

<div>
<span><div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">在上一篇文章中，我们重点介绍了内存管理，提供了可用于不同工作负载的垃圾收集策略的相关信息。我们还介绍了如何使用诊断工具来监控性能、查明问题并推荐与内存管理相关的调优选项。在最后一篇文章中，我们将介绍 Java 并发性，重点介绍如何诊断并避免锁争用 (lock contention) 和死锁 (deadlock) 情形。我们还将介绍如何监控 CPU 利用率，以确定应用程序性能中的问题和改进目标。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">本系列的其他文章：</span></div><div style="margin: 0px; padding: 0px 0px 0px 28px; border: 0px;"><span style="border: 0px;">第 1 部分：</span><a href="https://developer.ibm.com/cn/blog/2017/ibm-sdk-for-java-part1/" style="border: 0px; color: rgb(59, 108, 170);">J9 JVM 架构基础和 JIT 编译器</a><span style="border: 0px;">。</span></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><span style="border: 0px;">第 2 部分：</span><a href="https://developer.ibm.com/cn/blog/2017/ibm-sdk-for-java-part2/" style="border: 0px; color: rgb(59, 108, 170);">内存管理、垃圾收集 (GC) 策略和垃圾收集诊断工具</a><span style="border: 0px;">。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">文章中提供了更多信息的链接。</span></div><h3 style="margin: 40px 0px 0px; padding: 0px 0px 15px; border: 0px; font-size: 1.5625rem; line-height: 1.875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.5625rem; line-height: 1.875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">Java 并发性和锁定</span></h3><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">并发性</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Java 语言和 Java 虚拟机 (JVM) 都支持并发编程。这使得 Java 应用程序能分解为可并行执行的更小任务。如果恰当使用 Java 并发性和同步特性，Java 应用程序可以获得更高的吞吐量和性能。但是，不当使用这些特性可能降低 Java 应用程序的性能和响应能力。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">因此，识别和解决使用这些特性可能带来的负面问题非常重要。对于 Java 应用程序，必须研究下列因素，才能了解并发性和同步特性的影响：锁争用、死锁、CPU 利用率和 CPU 时间。</span></div><div style="margin: 0px; padding: 5px 0px 0px 28px; border: 0px;"><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">锁争用。</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">锁通常用于阻止多个实体访问一种共享资源。Java 语言中的每个对象都有一个关联的锁，也称为监控器，线程可以使用同步方法或代码块来获取它。在 JVM 中，线程会争用 Java 对象上的各种锁。请参阅本文后面的“J9 JVM 中的锁定”。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">在许多线程共享一个锁并竞争或争用这个锁时，就会发生锁争用。争用的一种典型症状是，一个应用程序消耗了大量 CPU 时间，但产生极少的输出，而许多线程却阻塞在同一个锁上。不当使用 Java 同步特性可能引起锁争用，比如长临界区段、IO 阻塞等。如果大量线程受阻塞而不是执行有用工作，Java 应用程序的响应能力和可用性就会受到负面影响。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><a href="https://www.ibm.com/support/knowledgecenter/SS3KLZ/com.ibm.java.diagnostics.healthcenter.doc/topics/threads.html" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">Health Center 中的 Threads 透视图</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;"> </span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">（图 1）提供了一个用户友好的界面来实时查看线程的状态和堆栈。可以使用此信息研究锁争用。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><img src="IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定_files/Image.png" type="image/png" data-filename="Image.png" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; height: auto;"/></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 1</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– IBM Health Center：Threads 透视图</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">调查争用的另一种方法是分析监控器的行为。</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;"> </span><a href="https://www.ibm.com/support/knowledgecenter/SS3KLZ/com.ibm.java.diagnostics.healthcenter.doc/topics/locking_overview.html" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">Health Center 中的 Locking 透视图</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">（图 2）提供了关于 Java 应用程序中使用的所有监控器的实时统计数据。此信息可表示为条形图或表格。在条形图中，竖条的高度表示对获取监控器的非递归尝试，该尝试会导致请求线程在等待释放监控器期间受阻塞 (Slow lock count)。竖条的颜色表示请求线程在等待监控器期间锁定时，缓慢锁 (Slow lock) 占总共获取数量的百分比（“% miss”）。深色竖条表示监控器上的竞争程度比浅色竖条更激烈。图 2 中的表格包含更多信息，比如：</span></div><div style="margin: 0px; padding: 0px 0px 0px 28px; border: 0px;"><span style="border: 0px; font-weight: bold;">Average hold time：</span><span style="border: 0px;">一个线程持有该监控器的平均时间。</span></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><span style="border: 0px; font-weight: bold;">Utilization：</span><span style="border: 0px;">（“% util”）监控器被持有的时间量除以输出被使用的时间量。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">总体上讲，这些统计数据显示了在 Java 应用程序中各个临界区段被访问的情况。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><div><img src="IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定_files/Image [1].png" type="image/png" data-filename="Image.png" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; height: auto;"/></div><div style="margin-top: 1em; margin-bottom: 1em;"><img src="IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定_files/Image [2].png" type="image/png" data-filename="Image.png" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; height: auto;"/></div></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 2</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– IBM Health Center：Locking 透视图</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">其他工具，例如</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;"> </span><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=2245aa39-fa5c-4475-b891-14c205f7333c" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">IBM Thread and Monitor Dump Analyzer for Java</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">,也可用于研究锁争用。</span></div></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">死锁。</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">如果多个线程在等待获取某个锁期间永远受阻塞，就会发生死锁。不同于锁争用问题，死锁对 Java 应用程序的稳定性更加有害，因为它们会阻止应用程序继续运行。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">IBM JVM 可通过以下方式发现死锁：检测涉及通过同步获取的锁的周期，检测扩展 java.util.concurrent.locks.AbstractOwnableSynchronizer 类的锁，或者同时检测这二者。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">图 3演示了死锁的检测，其中的两个线程“DeadLock Thread 0”和“DeadLock Thread 1”尝试在一个 java/lang/String 对象上执行同步失败，并锁定 java.util.concurrent.locks.ReentrantLock 类的一个实例。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">这种典型的死锁情形是由于应用程序设计错误导致的。可以使用</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;"> </span><a href="https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/tools/javadump.html" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">Javadump 工具</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;"> </span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">帮助检测这类事件。锁再排序，避免在持有锁期间执行第三方代码，以及使用可中断的锁，诸如此类的解决方案有助于解决死锁事件。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 0.9375rem; font-family: ibm-plex-mono, Menlo, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Courier, monospace;"><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL ------------------------------------------------------------------------</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">0SECTION LOCKS subcomponent dump routine</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL ===============================</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">1LKPOOLINFO Monitor pool info:</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">2LKPOOLTOTAL Current total number of monitors: 2</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">1LKMONPOOLDUMP Monitor Pool Dump (flat &amp; inflated object-monitors):</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">2LKMONINUSE sys_mon_t:0x00007F5E24013F10 infl_mon_t: 0x00007F5E24013F88:</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">3LKMONOBJECT java/lang/String@0x00007F5E5E18E3D8: Flat locked by &quot;Deadlock Thread 1&quot; (0x00007F5E84362100), entry count 1</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">3LKWAITERQ Waiting to enter:</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">3LKWAITER &quot;Deadlock Thread 0&quot; (0x00007F5E8435BD00)</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">1LKREGMONDUMP JVM System Monitor Dump (registered monitors):</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">2LKREGMON Thread global lock (0x00007F5E84004F58):</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">2LKREGMON &amp;(PPG_mem_mem32_subAllocHeapMem32.monitor) lock (0x00007F5E84005000):</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">2LKREGMON NLS hash table lock (0x00007F5E840050A8):</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">&lt; lines removed for brevity &gt;</span></div><div><br/></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">1LKDEADLOCK Deadlock detected !!!</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">NULL ---------------------</span></div></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 3</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;"> </span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– 死锁检测</span></div></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">CPU 利用率和 CPU 时间。</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">监控 CPU 利用率和 CPU 时间有助于识别 Java 应用程序中的退化问题或有待改进之处。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">高 CPU 使用率和 CPU 时间可能是糟糕的资源利用率造成的，比如使用几倍于可用 CPU 数量的大量线程。这类症状不应忽视；它们可能表明 Java 应用程序存在真正的问题，可能阻止它扩展和处理更大的工作负载。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">Health Center、Application Performance Management (APM) 解决方案和 Java Core Dump 分析（通过多个快照）等工具可用于研究 CPU 使用率和 CPU 时间。记录 CPU 时间等侵入性方法会改变应用程序的行为，所以应避免这些方法。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><a href="https://www.ibm.com/support/knowledgecenter/SS3KLZ/com.ibm.java.diagnostics.healthcenter.doc/topics/cpu.html" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">Health Center 中的 CPU 透视图（</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">（图 4）演示了应用程序和运行它的系统的处理器使用率。除了处理器使用率之外，该图还显示了自监控代理启动以来分析的方法数量。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><img src="IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定_files/Image [3].png" type="image/png" data-filename="Image.png" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; height: auto;"/></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 4</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– IBM Health Center：Locking 透视图</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><a href="https://www.ibm.com/support/knowledgecenter/SS3KLZ/com.ibm.java.diagnostics.healthcenter.doc/topics/cpu.html" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170);">Health Center 中的 Method Profiling 透视图</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">（图 5）提供了采样方法分析器的结果。这些结果包括完整的调用堆栈信息和采样统计数据。对于大型 Java 应用程序，通过使用系统性方法并重点关注利用了最多 CPU 资源的方法，可以简化分析流程。在图 5 中，“Self (%)”是在堆栈上运行特定方法期间获取的样本百分比。这是表明一个方法使用了多少处理资源的良好指标。“Tree (%)”是在调用堆栈中的任何地方运行特定方法期间获得的采样的百分比，显示了处理此方法和它调用的方法（后代）的时间比例。这样可以很好地指导找出花费最多处理时间的应用程序区域。基于此信息，可以检查代码来识别与并发性相关的退化问题。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><img src="IBM SDK for Java 性能优化，第 3 部分：Java 并发性和锁定_files/Image [4].png" type="image/png" data-filename="Image.png" style="margin: 0px; padding: 0px; border: 0px; max-width: 100%; height: auto;"/></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 5</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– IBM Health Center 的 Locking 透视图</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">来自 IBM J9 Java Core Dump 的“Threads CPU Usage Summary”输出显示了主要 JVM 组件的线程所利用的 CPU 时间。可利用该摘要获得虚拟机 (VM) 线程、垃圾收集器 (GC) 线程和即时 (JIT) 编译器线程所花的时间。此信息很有价值，因为它有助于识别高 CPU 利用率的来源：VM、GC 或 JIT 编译器。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 0.9375rem; font-family: ibm-plex-mono, Menlo, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, Courier, monospace;"><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">Threads CPU Usage Summary</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">=========================</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">All JVM attached threads: 0.083877000 secs</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">|</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">+--System-JVM: 0.083877000 secs</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">| |</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">| +--GC: 0.0 secs</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">| |</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">| +--JIT: 0.00961700 secs</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">|</span></div><div><span style="font-family: Monaco, Consolas, &quot;Andale Mono&quot;, &quot;DejaVu Sans Mono&quot;, monospace; font-size: 13.5px; line-height: 1.2em; white-space: pre-wrap; border: 0px; word-wrap: break-word; color: rgb(85, 85, 85); background: rgb(244, 244, 244);">+--Application: 0.0 secs</span></div></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; text-align: center;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; font-weight: bold;">图 6</span><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">– IBM J9 的 Java Core Dump 中的“Threads CPU Usage Summary”</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem;"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem;">在一些 Java 应用程序中，高 CPU 使用率和 CPU 时间可能是由于激烈的线程锁争用导致的。在这些情况下，-Xthr:minimizeUserCPU JVM 选项可能有助于减少 CPU 使用率和 CPU 时间。</span></div></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">IBM JVM 中的锁定</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Java 语言提供了两种基本的同步语法：同步方法和同步语句。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">如果大体了解 J9 JVM 中是如何实现锁定的，就可以最高效地使用这些语法，而且使用命令行选项来自定义 JVM 会优化应用程序的并发需求。请参阅以下 IBM developerWorks 文章，进一步了解 J9 JVM 中的锁定实现 (locking implementation)：</span></div><div style="margin: 0px; padding: 0px 0px 0px 28px; border: 0px;"><a href="https://www.ibm.com/developerworks/community/blogs/738b7897-cd38-4f24-9f05-48dd69116837/entry/jvm_under_the_hood_locking_in_ibm_j9_vm2?lang=en" style="border: 0px; color: rgb(59, 108, 170);">JVM 幕后原理：IBM J9 虚拟机中的锁定 – 第 1 部分</a></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><a href="https://www.ibm.com/developerworks/community/blogs/738b7897-cd38-4f24-9f05-48dd69116837/entry/jvm_under_the_hood_locking_in_ibm_j9_vm_2154?lang=en" style="border: 0px; color: rgb(59, 108, 170);">JVM 幕后原理：IBM J9 虚拟机中的锁定 – 第 2 部分</a></div><h2 style="margin: 40px 0px 0px; padding: 0px 0px 15px; border: 0px; font-size: 1.875rem; line-height: 2.1875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.875rem; line-height: 2.1875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">结束语</span></h2><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">在本系列文章中，我们探讨了 IBM SDK for Java 中一些对性能最敏感的组件，包括 JIT 编译器、垃圾收集器 (GC) 和底层 J9 虚拟机使用的锁定机制。我们还介绍了一些常见的性能问题，以及一些有关如何诊断和解决它们的指南。希望您会觉得这些文章有用，也欢迎提供反馈。</span></div><h3 style="margin: 40px 0px 0px; padding: 0px 0px 15px; border: 0px; font-size: 1.5625rem; line-height: 1.875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.5625rem; line-height: 1.875rem; font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; color: rgb(50, 50, 50); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">进一步阅读</span></h3><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">DZone Refcard 文章</span><a href="https://dzone.com/refcardz/java-performance-optimization" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </a><a href="https://dzone.com/refcardz/java-performance-optimization" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Java 性能优化</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">进一步解释了可能遇到性能问题的大致区域。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">这篇文章对如何解决 Java 层面的性能问题进行了技术解释，同时概述了典型 JVM 的内部工作原理并提供了调优 JVM 的选项建议。该文章重点介绍了 Hotspot JVM，但也提到了 J9 JVM。</span></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;">在developerWorks上的相关资源：</span></div><div style="margin: 0px; padding: 0px 0px 0px 28px; border: 0px;"><a href="https://www.ibm.com/developerworks/cn/java/j-ibmtools3/index.html" style="border: 0px; color: rgb(59, 108, 170);">使用面向 Java 的 Lock Analyzer 诊断同步和锁问题</a></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><a href="https://www.ibm.com/developerworks/cn/java/j-lo-deadlock/index.html" style="border: 0px; color: rgb(59, 108, 170);">java 程序死锁问题原理及解决方案</a></div><div style="margin: 0px; padding: 7px 0px 0px 28px; border: 0px;"><a href="https://www.ibm.com/developerworks/cn/aix/library/1212_weixy_powervmcpuusage/index.html" style="border: 0px; color: rgb(59, 108, 170);">虚拟化环境下 cpu 利用率的监控与探究</a></div><div style="margin: 0px; padding: 0px 0px 15px; border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><br/></div><div><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">本文翻译自：</span><a href="https://developer.ibm.com/javasdk/2017/02/23/java-concurrency-locking/" style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(59, 108, 170); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">IBM SDK for Java performance optimizations: part three</a><span style="border: 0px; font-size: 1rem; line-height: 1.625rem; color: rgb(50, 50, 50); font-family: ibm-plex-sans, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">(2017-02-23)</span></div></div></span>
</div></body></html> 